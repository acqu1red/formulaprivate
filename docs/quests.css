
:root{
  --bg0:#0B1020;
  --bg1:#0F1A2A;
  --glass:rgba(255,255,255,.08);
  --border:rgba(255,255,255,.14);
  --glow1:#66F7D5;
  --glow2:#A6B4FF;
  --accent:#FFE27A;
  --text:#EAF4FF;
  --muted:#9FB0C6;
  --radius:22px;
}

*{box-sizing:border-box}
html,body{height:100%;}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;
  background: radial-gradient(120% 80% at 70% 30%, #12344B 0%, var(--bg0) 60%, #090D18 100%);
  color:var(--text);
  overflow-x:hidden;
}

.app{min-height:100%; display:flex; flex-direction:column}
h1,h2{font-family:Sora,Inter,system-ui; letter-spacing:.2px}

.glass{
  background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  backdrop-filter: blur(14px) saturate(1.2);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:0 10px 22px rgba(0,0,0,.28), 0 0 24px rgba(166,180,255,.18);
}

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; margin:12px;
}
.brand{display:flex; align-items:center; gap:12px}
.logoGlow{width:14px;height:14px;border-radius:50%;background:var(--glow1);
  box-shadow:0 0 18px var(--glow1),0 0 36px var(--glow2); display:inline-block}
.brand h1{margin:0;font-size:18px}
.badge{padding:6px 10px; border:1px solid var(--border); border-radius:999px; color:var(--muted); font-size:12px}
.badge.beta{background:rgba(166,180,255,.08)}

.actions{display:flex; gap:10px}
.btn{border:none; border-radius:14px; padding:10px 14px; cursor:pointer;
  font-weight:600; color:var(--text); background:rgba(255,255,255,.08); transition:transform .08s ease, box-shadow .2s ease}
.btn:active{transform:translateY(1px)}
.btn.primary{background:linear-gradient(90deg, #2fe0b6, #7e8aff); color:#0B1020}
.btn.ghost{background:transparent; border:1px solid var(--border); color:var(--text)}

.hero{position:relative; height:42vh; margin:12px}
.layers{position:absolute; inset:0; overflow:hidden; border-radius:var(--radius)}
.layer{position:absolute; width:120%; left:50%; transform:translateX(-50%); opacity:.9; will-change:transform}
.bg{top:-10px}
.mid{bottom:-6px}
.fg{bottom:-14px}
.fog{position:absolute; inset:-20% -10%; background:
  radial-gradient(60% 60% at 50% 30%,rgba(255,255,255,.06), transparent 60%),
  radial-gradient(80% 60% at 20% 70%,rgba(255,255,255,.05), transparent 60%);
  opacity:.25; filter:blur(14px); animation:fog 10s ease-in-out infinite alternate}
@keyframes fog{from{transform:translate3d(-2%,0,0)} to{transform:translate3d(2%,1%,0)}}
.fireflies{position:absolute; inset:0; pointer-events:none}

.heroCopy{position:relative; z-index:2; margin:12px; padding:16px}

.quests{display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding:12px}
.card{position:relative; overflow:hidden; padding:16px; min-height:160px;
  display:flex; flex-direction:column; justify-content:flex-end; gap:8px;
  border-radius:18px; border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  transition: transform .18s ease, box-shadow .25s ease;}
.card:hover{transform:translateY(-2px); box-shadow:0 16px 28px rgba(0,0,0,.28), 0 0 28px rgba(166,180,255,.18)}
.card .label{font-size:12px; color:var(--muted)}
.card h3{margin:0; font-size:16px}
.card .cta{display:flex; gap:8px}
.tag{font-size:11px; padding:6px 8px; border-radius:999px; border:1px solid var(--border); color:var(--muted)}
.lock{position:absolute; top:8px; right:8px; padding:6px 8px; border-radius:999px; background:rgba(0,0,0,.3); border:1px solid var(--border); font-size:12px}

.foot{margin:12px; padding:12px; font-size:13px; color:var(--muted)}

.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.6); z-index:10}
.modal.hidden{display:none}
.modalContent{width:min(840px, 92vw); max-height:88vh; overflow:auto; padding:16px; position:relative}
.modalContent .close{position:absolute; top:10px; right:12px; border:none; background:transparent; color:var(--text); font-size:24px; cursor:pointer}

.questIntro{margin-bottom:12px}
.questBody{display:grid; gap:12px}
.questActions{display:flex; gap:10px; flex-wrap:wrap}

.banner{padding:10px 12px; border:1px dashed var(--border); border-radius:14px; color:var(--muted); font-size:13px}

.toast{position:fixed; bottom:22px; left:50%; transform:translateX(-50%);
  background:#101628; color:#EAF4FF; padding:10px 14px; border-radius:12px; border:1px solid var(--border);
  box-shadow:0 10px 20px rgba(0,0,0,.35); opacity:0; pointer-events:none; transition:.25s ease; z-index:20}
.toast.show{opacity:1; transform:translateX(-50%) translateY(-6px)}

.face{width:220px; height:220px; border-radius:50%; background:linear-gradient(180deg, #1b2742, #0f1a2a); border:1px solid var(--border); position:relative; margin:auto; box-shadow:inset 0 0 30px rgba(166,180,255,.12)}
.eye{width:24px;height:14px;border-radius:10px;background:#EAF4FF; position:absolute; top:90px; transition:.25s}
.eye.left{left:68px}.eye.right{right:68px}
.brow{position:absolute; width:60px; height:8px; border-radius:8px; background:#A6B4FF; top:70px; opacity:.85; transition:.25s}
.brow.left{left:45px}.brow.right{right:45px}
.mouth{position:absolute; width:70px; height:40px; border-radius:0 0 70px 70px / 0 0 40px 40px; border:4px solid #EAF4FF; border-top:none; bottom:70px; left:50%; transform:translateX(-50%); transition:.25s}
/* expression variants via body classes */
body.expr-happy .mouth{height:36px}
body.expr-angry .brow.left{transform:rotate(-18deg) translateY(-6px)}
body.expr-angry .brow.right{transform:rotate(18deg) translateY(-6px)}
body.expr-sad .mouth{border-radius:70px 70px 0 0 / 40px 40px 0 0; border-bottom:none; border-top:4px solid #EAF4FF}
body.expr-fear .eye{height:22px}
body.expr-surprise .mouth{width:34px; height:34px; border-radius:50%; border:4px solid #EAF4FF}
body.expr-disgust .mouth{width:60px; transform:translateX(-50%) rotate(-8deg)}
body.expr-contempt .brow.left{transform:translateY(-6px)} body.expr-contempt .brow.right{opacity:.4}
body.expr-dominance .brow.right{transform:translateY(-6px)} body.expr-dominance .mouth{transform:translateX(-50%) rotate(4deg)}
body.expr-submission .brow.left,.expr-submission .brow.right{opacity:.5} body.expr-submission .mouth{opacity:.7}
body.expr-uncertainty .eye{width:20px} body.expr-uncertainty .mouth{width:62px}
body.expr-skeptic .brow.left{transform:translateY(-8px)} body.expr-skeptic .brow.right{transform:translateY(2px)}
body.expr-interest .eye{height:16px} body.expr-interest .brow.left,.expr-interest .brow.right{opacity:.95}
body.expr-determination .brow.left{transform:rotate(-8deg)} body.expr-determination .brow.right{transform:rotate(8deg)}
body.expr-hesitation .mouth{width:50px}
body.expr-neutral .eye{opacity:.9}
/* locked */
.card.locked{filter:grayscale(.3); opacity:.75}

.muted{color:var(--muted)}
